\documentclass{article}

\usepackage[a4paper,margin=2cm,portrait]{geometry}
\usepackage[latin1]{inputenc}
\usepackage{tikz}
\usetikzlibrary{shapes,arrows}
\begin{document}
\thispagestyle{empty}


% Define block styles
\tikzstyle{decision} = [diamond, draw, fill=yellow!20, 
    text width=5em, text badly centered, node distance=2.5cm, inner sep=1pt]
\tikzstyle{block} = [rectangle, draw, fill=blue!20, 
    text width=8em, text centered, rounded corners, minimum height=4em]
\tikzstyle{line} = [draw, -latex']
\tikzstyle{cloud} = [ellipse, draw, fill=red!20, node distance=2cm,
    minimum height=5em]
\tikzstyle{ball} = [circle, draw, fill=red!20, 
    text width=6em, text centered, node distance=3cm]    

\begin{tikzpicture}[node distance = 2cm, auto]
    
    % Place nodes
     \node [cloud] (data) {Channel-wise data};
     
     %% chanGravs
     \node [decision, below of=data, left of=data] (cmin1) {Were $cMin$ IAWs estimated?};
     \node [ball, left of=cmin1, xshift=-.5cm] (nocog) {CoG$_M$ not estimated};
     \node [block, below of=cmin1, yshift=-1cm] (indw) {Average $f_1$ \& $f_2$ estimates};
     \node [block, below of=indw] (cogs) {Estimate CoG for each channel using average IAW};
     \node [block, below of=cogs] (mucog) {Compute cross-channel mean CoG}; %technically part of chanMeans, more logical here
     \node [ball, left of=mucog, xshift=-.5cm] (cogm) {CoG$_M$};
     
     %% chanMeans
     \node [decision, below of=data, right of=data] (cmin2) {Were $cMin$ PAFs estimated?};
     \node [ball, right of=cmin2, xshift=.5cm] (nopaf) {PAF$_M$ not estimated};
     \node [block, below of=cmin2, yshift=-1cm] (qwts) {Scale Q weights proportional to largest Q};
     \node [block, below of=qwts, yshift=-.2cm] (mupaf) {Compute cross-channel mean PAF (weighted by scaled Q)};
     \node [ball, right of=mupaf, xshift=.5cm] (pafm) {PAF$_M$};
     
     %% meanIAF
     %\node [cloud, below of=data, yshift=-11cm] (multi) {Multi-recording data};
     \node [decision, below of=data, yshift=-11cm] (multi) {IAF$_M$ estimated for $>1$ recording?};
     \node [ball, right of=multi, xshift=1cm] (noga) {Grand averaging not possible};
     \node [block, below of=multi, yshift=-1.2cm] (nchans) {Weight each IAF$_M$ by $n$ PAF / IAW estimates};
     \node [ball, right of=nchans, xshift=1cm] (ga) {Compute IAF$_{GA}$};

     % Draw edges
     \path [line] (data) -- (cmin1);
     \path [line] (cmin1) -- node {no} (nocog);
     \path [line] (cmin1) -- node {yes} (indw);
     \path [line] (indw) -- (cogs);
     \path [line] (cogs) -- (mucog);
     \path [line] (mucog) -- (cogm);
     
     \path [line] (data) -- (cmin2);
     \path [line] (cmin2) -- node {no} (nopaf);
     \path [line] (cmin2) -- node {yes} (qwts);
     \path [line] (qwts) -- (mupaf);
     \path [line] (mupaf) -- (pafm);     
     
     \path [line] (mucog) -- (multi);
     \path [line] (mupaf) -- (multi);
     \path [line] (multi) -- node {no} (noga);
     \path [line] (multi) -- node {yes} (nchans);
     \path [line] (nchans) -- (ga);
     
 \end{tikzpicture}
 
 \end{document}